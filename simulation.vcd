$date
	Sun May 18 22:29:50 2025
$end
$version
	Icarus Verilog
$end
$timescale
	1ns
$end
$scope module tb_spi_flash_controller $end
$var wire 1 ! o_SPI_MOSI $end
$var wire 1 " o_SPI_CS $end
$var wire 1 # o_SPI_CLK $end
$var wire 1 $ o_MemoryReady $end
$var wire 1 % o_HALT $end
$var wire 8 & o_DATA [7:0] $end
$var reg 1 ' clk $end
$var reg 16 ( i_ADDRESS_BUS [15:0] $end
$var reg 8 ) i_DataBus [7:0] $end
$var reg 1 * i_RW $end
$var reg 1 + i_SPI_MISO $end
$var reg 1 , i_enable $end
$var reg 1 - reset $end
$var reg 1 . spi_ce $end
$scope module uut $end
$var wire 1 ' clk $end
$var wire 16 / i_ADDRESS_BUS [15:0] $end
$var wire 8 0 i_DataBus [7:0] $end
$var wire 1 * i_RW $end
$var wire 1 + i_SPI_MISO $end
$var wire 1 , i_enable $end
$var wire 1 - reset $end
$var wire 1 . spi_ce $end
$var wire 8 1 spi_page_command [7:0] $end
$var wire 8 2 spi_read_command [7:0] $end
$var wire 8 3 spi_write_enable_command [7:0] $end
$var reg 6 4 bit_counter [5:0] $end
$var reg 1 5 clock_delay $end
$var reg 1 % o_HALT $end
$var reg 1 $ o_MemoryReady $end
$var reg 1 # o_SPI_CLK $end
$var reg 1 " o_SPI_CS $end
$var reg 1 ! o_SPI_MOSI $end
$var reg 8 6 o_spi_data [7:0] $end
$var reg 8 7 spi_datawrite [7:0] $end
$var reg 1 8 spi_page_active $end
$var reg 1 9 spi_read_active $end
$var reg 24 : spi_readaddress [23:0] $end
$var reg 1 ; spi_write_active $end
$var reg 24 < spi_writeaddress [23:0] $end
$var reg 1 = start_read $end
$var reg 1 > start_write $end
$var reg 1 ? start_write_delay $end
$var reg 16 @ writedelay_counter [15:0] $end
$upscope $end
$scope task spi_flash_read $end
$var reg 16 A address [15:0] $end
$upscope $end
$scope task spi_flash_write $end
$var reg 16 B address [15:0] $end
$var reg 8 C databus [7:0] $end
$upscope $end
$upscope $end
$enddefinitions $end
#0
$dumpvars
bx C
bx B
bx A
b0 @
0?
0>
0=
b0 <
0;
b0 :
09
08
bx 7
bx 6
05
b0 4
b110 3
b11 2
b10 1
bx 0
b0 /
0.
1-
x,
x+
1*
bx )
b0 (
0'
bx &
x%
x$
x#
x"
x!
$end
#6
1"
1%
1$
0#
z!
1'
#10
0-
#12
0'
#18
b0 &
b0 6
1'
#20
b0 )
b0 0
1-
#24
0'
#30
1'
#36
0'
#42
1'
#48
0'
#54
1'
#60
0'
#66
1'
#72
0'
#78
1'
#84
0'
#90
1'
#96
0'
#102
1'
#108
0'
#114
1'
#120
0'
b11101010101010 A
#126
1'
#132
0'
#138
1'
#144
0'
b11101010101010 (
b11101010101010 /
1.
#150
1'
#154
1=
b101010101010 :
1,
#156
0'
#162
19
1'
#164
0.
0,
#168
0'
#174
0!
15
0$
0"
0=
1'
1,
#180
0'
#184
0,
#186
b1 4
1#
1'
#192
0'
#198
0#
1'
#204
0'
#210
b10 4
1#
1'
#216
0'
#222
0#
1'
#228
0'
#234
b11 4
1#
1'
#240
0'
#246
0#
1'
#252
0'
#258
b100 4
1#
1'
#264
0'
#270
0#
1'
#276
0'
#282
b101 4
1#
1'
#288
0'
#294
0#
1'
#300
0'
#306
b110 4
1#
1'
#312
0'
#318
1!
0#
1'
#324
0'
#330
b111 4
1#
1'
#336
0'
#342
0#
1'
#348
0'
#354
b1000 4
1#
1'
#360
0'
#366
0!
0#
1'
#372
0'
#378
b1001 4
1#
1'
#384
0'
#390
0#
1'
#396
0'
#402
b1010 4
1#
1'
#408
0'
#414
0#
1'
#420
0'
#426
b1011 4
1#
1'
#432
0'
#438
0#
1'
#444
0'
#450
b1100 4
1#
1'
#456
0'
#462
0#
1'
#468
0'
#474
b1101 4
1#
1'
#480
0'
#486
0#
1'
#492
0'
#498
b1110 4
1#
1'
#504
0'
#510
0#
1'
#516
0'
#522
b1111 4
1#
1'
#528
0'
#534
0#
1'
#540
0'
#546
b10000 4
1#
1'
#552
0'
#558
0#
1'
#564
0'
#570
b10001 4
1#
1'
#576
0'
#582
0#
1'
#588
0'
#594
b10010 4
1#
1'
#600
0'
#606
0#
1'
#612
0'
#618
b10011 4
1#
1'
#624
0'
#630
0#
1'
#636
0'
#642
b10100 4
1#
1'
#648
0'
#654
1!
0#
1'
#660
0'
#666
b10101 4
1#
1'
#672
0'
#678
0!
0#
1'
#684
0'
#690
b10110 4
1#
1'
#696
0'
#702
1!
0#
1'
#708
0'
#714
b10111 4
1#
1'
#720
0'
#726
0!
0#
1'
#732
0'
#738
b11000 4
1#
1'
#744
0'
#750
1!
0#
1'
#756
0'
#762
b11001 4
1#
1'
#768
0'
#774
0!
0#
1'
#780
0'
#786
b11010 4
1#
1'
#792
0'
#798
1!
0#
1'
#804
0'
#810
b11011 4
1#
1'
#816
0'
#822
0!
0#
1'
#828
0'
#834
b11100 4
1#
1'
#840
0'
#846
1!
0#
1'
#852
0'
#858
b11101 4
1#
1'
#864
0'
#870
0!
0#
1'
#876
0'
#882
b11110 4
1#
1'
#888
0'
#894
1!
0#
1'
#900
0'
#906
b11111 4
1#
1'
#912
0'
#918
0!
0#
1'
#924
0'
#930
b100000 4
1#
1'
#936
0'
#942
0#
1'
#948
0'
#954
b100001 4
bx0000000 &
bx0000000 6
1#
1'
#960
0'
#966
0#
1'
#972
0'
#978
b100010 4
bx000000 &
bx000000 6
1#
1'
#982
1+
#984
0'
#990
0#
1'
#996
0'
#1002
b100011 4
bx100000 &
bx100000 6
1#
1'
#1008
0'
#1014
0#
1'
#1020
0'
#1026
b100100 4
bx110000 &
bx110000 6
1#
1'
#1032
0'
#1038
0#
1'
#1044
0'
#1050
b100101 4
bx111000 &
bx111000 6
1#
1'
#1056
0'
#1062
0#
1'
#1068
0'
#1074
b100110 4
bx111100 &
bx111100 6
1#
1'
#1080
0'
#1086
0#
1'
#1092
0'
#1098
b100111 4
bx111110 &
bx111110 6
1#
1'
#1102
0+
#1104
0'
#1110
0#
1'
#1116
0'
#1122
b101000 4
1#
1'
#1126
1+
#1128
0'
#1134
1$
09
0#
1'
#1140
0'
#1146
1"
z!
1'
#1150
0+
#1152
0'
#1158
1'
#1164
0'
#1170
1'
#1176
0'
#1182
1'
#1188
0'
#1194
1'
#1200
0'
#1206
1'
#1212
0'
#1218
1'
#1224
0'
#1230
1'
#1236
0'
#1242
1'
#1248
0'
#1250
b10101010 C
b11000000000000 B
#1254
1'
#1260
0'
#1266
1'
#1272
0'
#1278
1'
#1284
0'
#1290
1'
#1296
0'
#1302
1'
#1308
0'
#1314
1'
#1320
0'
#1322
1.
0*
#1326
1'
#1332
0'
b10101010 )
b10101010 0
b11000000000000 (
b11000000000000 /
1,
#1338
1'
#1342
b10101010 7
1>
0,
#1344
0'
#1350
05
b0 4
1;
1'
#1352
1*
0.
1,
#1356
0'
#1362
0!
15
0"
0>
1'
0,
#1368
0'
#1374
b1 4
1#
1'
#1380
0'
#1386
0#
1'
#1392
0'
#1398
b10 4
1#
1'
#1404
0'
#1410
0#
1'
#1416
0'
#1422
b11 4
1#
1'
#1428
0'
#1434
0#
1'
#1440
0'
#1446
b100 4
1#
1'
#1452
0'
#1458
0#
1'
#1464
0'
#1470
b101 4
1#
1'
#1476
0'
#1482
1!
0#
1'
#1488
0'
#1494
b110 4
1#
1'
#1500
0'
#1506
0#
1'
#1512
0'
#1518
b111 4
1#
1'
#1524
0'
#1530
0!
0#
1'
#1536
0'
#1542
b1000 4
1#
1'
#1548
0'
#1554
0#
1'
#1560
0'
#1566
1"
05
b0 4
18
0#
1'
#1572
0'
#1578
15
0"
1'
#1584
0'
#1590
b1 4
1#
1'
#1596
0'
#1602
0#
1'
#1608
0'
#1614
b10 4
1#
1'
#1620
0'
#1626
0#
1'
#1632
0'
#1638
b11 4
1#
1'
#1644
0'
#1650
0#
1'
#1656
0'
#1662
b100 4
1#
1'
#1668
0'
#1674
0#
1'
#1680
0'
#1686
b101 4
1#
1'
#1692
0'
#1698
0#
1'
#1704
0'
#1710
b110 4
1#
1'
#1716
0'
#1722
1!
0#
1'
#1728
0'
#1734
b111 4
1#
1'
#1740
0'
#1746
0!
0#
1'
#1752
0'
#1758
b1000 4
1#
1'
#1764
0'
#1770
0#
1'
#1776
0'
#1782
b1001 4
1#
1'
#1788
0'
#1794
0#
1'
#1800
0'
#1806
b1010 4
1#
1'
#1812
0'
#1818
0#
1'
#1824
0'
#1830
b1011 4
1#
1'
#1836
0'
#1842
0#
1'
#1848
0'
#1854
b1100 4
1#
1'
#1860
0'
#1866
0#
1'
#1872
0'
#1878
b1101 4
1#
1'
#1884
0'
#1890
0#
1'
#1896
0'
#1902
b1110 4
1#
1'
#1908
0'
#1914
0#
1'
#1920
0'
#1926
b1111 4
1#
1'
#1932
0'
#1938
0#
1'
#1944
0'
#1950
b10000 4
1#
1'
#1956
0'
#1962
0#
1'
#1968
0'
#1974
b10001 4
1#
1'
#1980
0'
#1986
0#
1'
#1992
0'
#1998
b10010 4
1#
1'
#2004
0'
#2010
0#
1'
#2016
0'
#2022
b10011 4
1#
1'
#2028
0'
#2034
0#
1'
#2040
0'
#2046
b10100 4
1#
1'
#2052
0'
#2058
0#
1'
#2064
0'
#2070
b10101 4
1#
1'
#2076
0'
#2082
0#
1'
#2088
0'
#2094
b10110 4
1#
1'
#2100
0'
#2106
0#
1'
#2112
0'
#2118
b10111 4
1#
1'
#2124
0'
#2130
0#
1'
#2136
0'
#2142
b11000 4
1#
1'
#2148
0'
#2154
0#
1'
#2160
0'
#2166
b11001 4
1#
1'
#2172
0'
#2178
0#
1'
#2184
0'
#2190
b11010 4
1#
1'
#2196
0'
#2202
0#
1'
#2208
0'
#2214
b11011 4
1#
1'
#2220
0'
#2226
0#
1'
#2232
0'
#2238
b11100 4
1#
1'
#2244
0'
#2250
0#
1'
#2256
0'
#2262
b11101 4
1#
1'
#2268
0'
#2274
0#
1'
#2280
0'
#2286
b11110 4
1#
1'
#2292
0'
#2298
0#
1'
#2304
0'
#2310
b11111 4
1#
1'
#2316
0'
#2322
0#
1'
#2328
0'
#2334
b100000 4
1#
1'
#2340
0'
#2346
1!
0#
1'
#2352
0'
#2358
b100001 4
1#
1'
#2364
0'
#2370
0!
0#
1'
#2376
0'
#2382
b100010 4
1#
1'
#2388
0'
#2394
1!
0#
1'
#2400
0'
#2406
b100011 4
1#
1'
#2412
0'
#2418
0!
0#
1'
#2424
0'
#2430
b100100 4
1#
1'
#2436
0'
#2442
1!
0#
1'
#2448
0'
#2454
b100101 4
1#
1'
#2460
0'
#2466
0!
0#
1'
#2472
0'
#2478
b100110 4
1#
1'
#2484
0'
#2490
1!
0#
1'
#2496
0'
#2502
b100111 4
1#
1'
#2508
0'
#2514
0!
0#
1'
#2520
0'
#2526
b101000 4
1#
1'
#2532
0'
#2538
1?
b1100100 @
0;
08
0#
1'
#2544
0'
#2550
b1100011 @
1"
z!
1'
#2556
0'
#2562
b1100010 @
1'
#2568
0'
#2574
b1100001 @
1'
#2580
0'
#2586
b1100000 @
1'
#2592
0'
#2598
b1011111 @
1'
#2604
0'
#2610
b1011110 @
1'
#2616
0'
#2622
b1011101 @
1'
#2628
0'
#2634
b1011100 @
1'
#2640
0'
#2646
b1011011 @
1'
#2652
0'
#2658
b1011010 @
1'
#2664
0'
#2670
b1011001 @
1'
#2676
0'
#2682
b1011000 @
1'
#2688
0'
#2694
b1010111 @
1'
#2700
0'
#2706
b1010110 @
1'
#2712
0'
#2718
b1010101 @
1'
#2724
0'
#2730
b1010100 @
1'
#2736
0'
#2742
b1010011 @
1'
#2748
0'
#2754
b1010010 @
1'
#2760
0'
#2766
b1010001 @
1'
#2772
0'
#2778
b1010000 @
1'
#2784
0'
#2790
b1001111 @
1'
#2796
0'
#2802
b1001110 @
1'
#2808
0'
#2814
b1001101 @
1'
#2820
0'
#2826
b1001100 @
1'
#2832
0'
#2838
b1001011 @
1'
#2844
0'
#2850
b1001010 @
1'
#2856
0'
#2862
b1001001 @
1'
#2868
0'
#2874
b1001000 @
1'
#2880
0'
#2886
b1000111 @
1'
#2892
0'
#2898
b1000110 @
1'
#2904
0'
#2910
b1000101 @
1'
#2916
0'
#2922
b1000100 @
1'
#2928
0'
#2934
b1000011 @
1'
#2940
0'
#2946
b1000010 @
1'
#2952
0'
#2958
b1000001 @
1'
#2964
0'
#2970
b1000000 @
1'
#2976
0'
#2982
b111111 @
1'
#2988
0'
#2994
b111110 @
1'
#3000
0'
#3006
b111101 @
1'
#3012
0'
#3018
b111100 @
1'
#3024
0'
#3030
b111011 @
1'
#3036
0'
#3042
b111010 @
1'
#3048
0'
#3054
b111001 @
1'
#3060
0'
#3066
b111000 @
1'
#3072
0'
#3078
b110111 @
1'
#3084
0'
#3090
b110110 @
1'
#3096
0'
#3102
b110101 @
1'
#3108
0'
#3114
b110100 @
1'
#3120
0'
#3126
b110011 @
1'
#3132
0'
#3138
b110010 @
1'
#3144
0'
#3150
b110001 @
1'
#3156
0'
#3162
b110000 @
1'
#3168
0'
#3174
b101111 @
1'
#3180
0'
#3186
b101110 @
1'
#3192
0'
#3198
b101101 @
1'
#3204
0'
#3210
b101100 @
1'
#3216
0'
#3222
b101011 @
1'
#3228
0'
#3234
b101010 @
1'
#3240
0'
#3246
b101001 @
1'
#3252
0'
#3258
b101000 @
1'
#3264
0'
#3270
b100111 @
1'
#3276
0'
#3282
b100110 @
1'
#3288
0'
#3294
b100101 @
1'
#3300
0'
#3306
b100100 @
1'
#3312
0'
#3318
b100011 @
1'
#3324
0'
#3330
b100010 @
1'
#3336
0'
#3342
b100001 @
1'
#3348
0'
#3354
b100000 @
1'
#3360
0'
#3366
b11111 @
1'
#3372
0'
#3378
b11110 @
1'
#3384
0'
#3390
b11101 @
1'
#3396
0'
#3402
b11100 @
1'
#3408
0'
#3414
b11011 @
1'
#3420
0'
#3426
b11010 @
1'
#3432
0'
#3438
b11001 @
1'
#3444
0'
#3450
b11000 @
1'
#3456
0'
#3462
b10111 @
1'
#3468
0'
#3474
b10110 @
1'
#3480
0'
#3486
b10101 @
1'
#3492
0'
#3498
b10100 @
1'
#3504
0'
#3510
b10011 @
1'
#3516
0'
#3522
b10010 @
1'
#3528
0'
#3534
b10001 @
1'
#3540
0'
#3546
b10000 @
1'
#3552
0'
#3558
b1111 @
1'
#3564
0'
#3570
b1110 @
1'
#3576
0'
#3582
b1101 @
1'
#3588
0'
#3594
b1100 @
1'
#3600
0'
#3606
b1011 @
1'
#3612
0'
#3618
b1010 @
1'
#3624
0'
#3630
b1001 @
1'
#3636
0'
#3642
b1000 @
1'
#3648
0'
#3654
b111 @
1'
#3660
0'
#3666
b110 @
1'
#3672
0'
#3678
b101 @
1'
#3684
0'
#3690
b100 @
1'
#3696
0'
#3702
b11 @
1'
#3708
0'
#3714
b10 @
1'
#3720
0'
#3726
b1 @
1'
#3732
0'
#3738
b0 @
1'
#3744
0'
#3750
0?
1'
#3756
0'
#3762
1'
#3768
0'
#3774
1'
#3780
0'
#3786
1'
#3792
0'
#3798
1'
#3804
0'
#3810
1'
#3816
0'
#3822
1'
#3828
0'
#3834
1'
#3840
0'
#3846
1'
#3852
0'
#3858
1'
#3864
0'
#3870
1'
#3876
0'
#3882
1'
#3888
0'
#3894
1'
#3900
0'
#3906
1'
#3912
0'
#3918
1'
#3924
0'
#3930
1'
#3936
0'
#3942
1'
#3948
0'
#3954
1'
#3960
0'
#3966
1'
#3972
0'
#3978
1'
#3984
0'
#3990
1'
#3996
0'
#4002
1'
#4008
0'
#4014
1'
#4020
0'
#4026
1'
#4032
0'
#4038
1'
#4044
0'
#4050
1'
#4056
0'
#4062
1'
#4068
0'
#4074
1'
#4080
0'
#4086
1'
#4092
0'
#4098
1'
#4104
0'
#4110
1'
#4116
0'
#4122
1'
#4128
0'
#4134
1'
#4140
0'
#4146
1'
#4152
0'
#4158
1'
#4164
0'
#4170
1'
#4176
0'
#4182
1'
#4188
0'
#4194
1'
#4200
0'
#4206
1'
#4212
0'
#4218
1'
#4224
0'
#4230
1'
#4236
0'
#4242
1'
#4248
0'
#4254
1'
#4260
0'
#4266
1'
#4272
0'
#4278
1'
#4284
0'
#4290
1'
#4296
0'
#4302
1'
#4308
0'
#4314
1'
#4320
0'
#4326
1'
#4332
0'
#4338
1'
#4344
0'
#4350
1'
#4356
0'
#4362
1'
#4368
0'
#4374
1'
#4380
0'
#4386
1'
#4392
0'
#4398
1'
#4404
0'
#4410
1'
#4416
0'
#4422
1'
#4428
0'
#4434
1'
#4440
0'
#4446
1'
#4452
0'
#4458
1'
#4464
0'
#4470
1'
#4476
0'
#4482
1'
#4488
0'
#4494
1'
#4500
0'
#4506
1'
#4512
0'
#4518
1'
#4524
0'
#4530
1'
#4536
0'
#4542
1'
#4548
0'
#4554
1'
#4560
0'
#4566
1'
#4572
0'
#4578
1'
#4584
0'
#4590
1'
#4596
0'
#4602
1'
#4608
0'
#4614
1'
#4620
0'
#4626
1'
#4632
0'
#4638
1'
#4644
0'
#4650
1'
#4656
0'
#4662
1'
#4668
0'
#4674
1'
#4680
0'
#4686
1'
#4692
0'
#4698
1'
#4704
0'
#4710
1'
#4716
0'
#4722
1'
#4728
0'
#4734
1'
#4740
0'
#4746
1'
#4752
0'
#4758
1'
#4764
0'
#4770
1'
#4776
0'
#4782
1'
#4788
0'
#4794
1'
#4800
0'
#4806
1'
#4812
0'
#4818
1'
#4824
0'
#4830
1'
#4836
0'
#4842
1'
#4848
0'
#4854
1'
#4860
0'
#4866
1'
#4872
0'
#4878
1'
#4884
0'
#4890
1'
#4896
0'
#4902
1'
#4908
0'
#4912
